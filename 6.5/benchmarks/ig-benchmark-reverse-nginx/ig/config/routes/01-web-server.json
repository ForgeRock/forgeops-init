{
  "baseURI" : "http://ig-benchmark-web:80",
  "handler" : {
    "type" : "ReverseProxyHandler",
    "config" : {
      "asyncBehavior" : "non_streaming",
      "connections" : 100,
      "numberOfWorkers" : 20,
      "soTimeout" : "30 seconds"
    }
  },
  "heap": [
    {
      "name": "JwtSession",
      "type": "JwtSession",
      "config": {
          "keystore": {
              "type": "KeyStore",
              "config": {
                  "url": "file:///var/run/secrets/openig/keystore.jks",
                  "password": "password"
              }
          },
          "alias": "jwe-key",
          "password": "password",
          "cookieName": "ig-jwt",
          "cookieDomain": ".test.com"
      }
    },
    {
      "name": "basic-auth",
      "type": "HttpBasicAuthFilter",
      "config": {
          "username": "testuser",
          "password": "password",
          "failureHandler": "AuthFailureHandler",
          "cacheHeader": false
      }
    },
    {
      "name": "AuthFailureHandler",
      "type": "StaticResponseHandler",
      "config": {
        "status": 401,
        "reason": "Auth failure",
        "entity": "<html>
                   <h2>Authentication Failure</h2>
                   </html>",
        "headers": {
          "content-type": [
            "text/html"
          ]
        }        
      }
    },    
    {
      "name": "capture",
      "type": "CaptureDecorator",
      "config": {
        "captureEntity": true,
        "_captureContext": true
      }
    }
  ]  
  "_condition" : "${matches(request.uri.path, '^/static/resource.*')}"
}